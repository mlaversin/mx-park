{% extends 'base.html.twig' %}

{% block title %}MX Park | Connexion au site{% endblock %}

{% block body %}

<div class="container mt-5">
  <div class="row">
    <div class="offset-3 col-6">
  
        <form action="{{ path('app_login')}}" method="post">
          {% if error is defined and error %}
            <div class="alert alert-danger">{{ error.messageKey|trans(error.messageData, 'security') }}</div>
          {% endif %}

          {% if app.user %}
            <div class="mb-3">
              Vous êtes actuellement connecté en tant que 
              {{ app.user.username }},
              <a href="{{ path('app_logout') }}">Déconnexion</a>
            </div>
          {% endif %}

          <div class="row">
            <div class="col-10">
              <h1 class="mt-5">Connexion</h1>
            </div>
            <div class="col-2 mt-5 text-right">
              <p class="ml-auto">
              <a class="btn btn-warning text-white" href="{{ path('home') }}">
              <i class="fas fa-arrow-circle-left"></i>
              </a>
              </p>
            </div>
          </div>

          <label for="inputEmail">Adresse email</label>
          <input type="email" name="email" id="inputEmail" class="form-control" autocomplete="email" required="required" autofocus="autofocus">
          
          <label class="mt-3" for="inputPassword">Mot de passe</label>
          <input type="password" name="password" id="inputPassword" class="form-control" autocomplete="current-password" required="required">
          
          <input type="hidden" name="_csrf_token" value="{{ csrf_token('authenticate') }}">

          <div class="mt-4 mb-5">
          <button class="btn btn-warning " type="submit">Connexion</button>
          </div>

          {# <div class="my-5 text-center">
          <a href="{{ path ('app_register') }}" class="text-dark">Vous n'avez pas encore de compte ? Enregistrez-vous !</a>
          </div> #}

    </div>
  </div>
</div>

{% endblock %}
